{"data":{"markdownRemark":{"html":"<div class=\"content\">\n<p>Osassa 2 jo katsottu kahta tapaa tyylien lisäämiseen eli vanhan koulukunnan <a href=\"/osa2#tyylien-lis%C3%A4%C3%A4minen\">yksittäistä CSS</a>-tiedostoa, <a href=\"/osa6#inline-tyylit\">inline-tyylejä</a>. Katsotaan tässä osassa vielä muutamaa tapaa.</p>\n<h3>Valmiit käyttöliittymätyylikirjastot</h3>\n<p>Eräs lähestymistapa sovelluksen tyylien määrittelyyn on valmiin \"UI frameworkin\", eli suomeksi ehkä käyttöliittymätyylikirjaston käyttö.</p>\n<p>Ensimmäinen laajaa kuuluisuutta saanut UI framework oli Twitterin kehittämä <a href=\"https://getbootstrap.com/\">Bootstrap</a>, joka lienee edelleen UI frameworkeista eniten käytetty. Viime aikoina UI frameworkeja on noussut kuin sieniä sateella. Valikoima on niin iso, ettei tässä kannata edes yrittää tehdä tyhjentävää listaa.</p>\n<p>Monet UI-frameworkit sisältävät web-sovellusten käyttöön valmiiksi määriteltyjä teemoja sekä \"komponentteja\", kuten painikkeita, menuja, taulukkoja. Termi komponentti on edellä kirjotettu hipsuissa sillä kyse ei ole samasta asiasta kuin React-komponentti. Useimmiten UI-frameworkeja käytetään sisällyttämällä sovellukseen frameworkin määrittelemät CSS-tyylitiedostot sekä Javascript-koodi.</p>\n<p>Monesta UI-frameworkista on tehty React-ystävällisiä versiota, joissa UI-frameworkin avulla määritellyistä \"komponenteista\" on tehty React-komponentteja. Esim. Bootstrapista on olemassa parikin React-versiota <a href=\"http://reactstrap.github.io/\">reactstrap</a> ja <a href=\"https://react-bootstrap.github.io/\">react-bootstrap</a>.</p>\n<p>Katsotaan seuraavaksi kahta UI-framworkia bootstrapia ja <a href=\"https://semantic-ui.com/\">semantic ui</a>:ta.\nLisätään molempien avulla samantapaiset tyylit luvun <a href=\"/osa6/#react-router\">React-router</a> sovellukseen.</p>\n<h3>react bootstrap</h3>\n<p>Aloitetaan bootstrapista, käytetään kirjastoa <a href=\"https://react-bootstrap.github.io/\">react-bootstrap</a>.</p>\n<p>Asennetaan kirjasto suorittamalla komento</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save react-bootstrap</code></pre></div>\n<p>Lisätään sitten sovelluksen <em>public/index.html</em> tiedoston <em>head</em>-tagin sisään bootstrapin css-määrittelyt lataava rivi:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span>\n    <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token punctuation\">/></span></span>\n  // ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Kun sovellus ladataan uudelleen, näyttää se jo aavistuksen tyylikkäämmältä:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Bootstrapissa koko sivun sisältö renderöidään yleensä <a href=\"https://getbootstrap.com/docs/4.0/layout/overview/#containers\">container</a>:ina, eli käytännössä koko sovelluksen ympäröivä <em>div</em>-elementti merkitään luokalla <em>container</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">// ...\n\nclass App extends React.Component {\n  // ...\n  render() {\n    return (\n      &lt;div className=&quot;container&quot;&gt;\n        // ...\n      &lt;/div&gt;\n    )\n  }\n}</code></pre></div>\n<p>Sovelluksen ulkoasu muuttuu siten, että sisältö ei ole enää yhtä kiinni selaimen reunoissa:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Muutetaan seuraavaksi komponenttia <em>Notes</em> siten, että se renderöi muistiinpanojen listan <a href=\"https://getbootstrap.com/docs/4.0/content/tables/\">taulukkona</a>. React bootstrap tarjoaa valmiin komponentin <a href=\"https://react-bootstrap.github.io/components/table/\">Table</a>, joten CSS-luokan käyttöön ei ole tarvetta.</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">const Notes = ({notes}) =&gt; (\n  &lt;div&gt;\n    &lt;h2&gt;Notes&lt;/h2&gt;\n    &lt;Table striped&gt;\n      &lt;tbody&gt;\n        {notes.map(note=&gt;\n          &lt;tr key={note.id}&gt;\n            &lt;td&gt;\n              &lt;Link to={`/notes/${note.id}`}&gt;{note.content}&lt;/Link&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n              {note.user}\n            &lt;/td&gt;\n          &lt;/tr&gt;\n        )}\n      &lt;/tbody&gt;\n    &lt;/Table&gt;\n  &lt;/div&gt;\n)</code></pre></div>\n<p>Ulkoasu on varsin tyylikäs:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Huomaa, että koodissa käytettävät React bootstrapin komponentit täytyy importata, eli koodiin on lisättävä:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Table <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-bootstrap'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4>Lomake</h4>\n<p>Parannellaan seuraavaksi näkymän <em>Login</em> kirjautumislomaketta Bootstrapin <a href=\"https://getbootstrap.com/docs/4.0/components/forms/\">lomakkeiden</a> avulla.</p>\n<p>React bootstrap tarjoaa valmiit <a href=\"https://react-bootstrap.github.io/components/forms/\">komponentit</a> myös lomakkeiden muodostamiseen (dokumentaatio tosin ei ole paras mahdollinen):</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">const Login = ({onLogin, history}) =&gt; {\n  // ...\n  return (\n    &lt;div&gt;\n      &lt;h2&gt;login&lt;/h2&gt;\n      &lt;form onSubmit={onSubmit}&gt;\n        &lt;FormGroup&gt;\n          &lt;ControlLabel&gt;username:&lt;/ControlLabel&gt;\n          &lt;FormControl\n            type=&quot;text&quot;\n            name=&quot;username&quot;\n          /&gt;\n          &lt;ControlLabel&gt;password:&lt;/ControlLabel&gt;\n          &lt;FormControl\n            type=&quot;password&quot;\n          /&gt;\n          &lt;Button bsStyle=&quot;success&quot; type=&quot;submit&quot;&gt;login&lt;/Button&gt;\n        &lt;/FormGroup&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n)}</code></pre></div>\n<p>Importoitavien komponenttien määrä kasvaa:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  Table<span class=\"token punctuation\">,</span>\n  FormGroup<span class=\"token punctuation\">,</span>\n  FormControl<span class=\"token punctuation\">,</span>\n  ControlLabel<span class=\"token punctuation\">,</span>\n  Button<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-bootstrap'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Lomake näyttää parantelun jälkeen seuraavalta:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<h4>Notifikaatio</h4>\n<p>Toteutetaan sovellukseen kirjautumisen jälkeinen <em>notifikaatio</em>:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Asetetaan notifikaatio kirjautumisen yhteydessä komponentin <em>App</em> tilan kenttään <em>message</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function-variable function\">login</span> <span class=\"token operator\">=</span> user <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user<span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`welcome </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>user<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> message<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ja renderöidään viesti Bootstrapin <a href=\"https://getbootstrap.com/docs/4.0/components/alerts/\">Alert</a>-komponentin avulla. React bootstrap tarjoaa tähän jälleen valmiin <a href=\"https://react-bootstrap.github.io/components/alerts/\">React-komponentin</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">{(this.state.message &amp;&amp;\n  &lt;Alert color=&quot;success&quot;&gt;\n    {this.state.message}\n  &lt;/Alert&gt;\n)}</code></pre></div>\n<h4>Navigaatiorakenne</h4>\n<p>Muutetaan vielä lopuksi sovelluksen navigaatiomenu käyttämään Bootstrapin <a href=\"https://getbootstrap.com/docs/4.0/components/navbar/\">Navbaria</a>. Tähänkin React bootstrap tarjoaa <a href=\"https://react-bootstrap.github.io/components/navbar/#navbars-mobile-friendly\">valmiit komponentit</a>, dokumentaatio on hieman kryptistä, mutta trial and error johtaa lopulta toimivaan ratkaisuun:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>Navbar inverse collapseOnSelect<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Navbar.Header<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Navbar.Brand<span class=\"token operator\">></span>\n      Anecdote app\n    <span class=\"token operator\">&lt;</span>/Navbar.Brand<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Navbar.Toggle /<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>/Navbar.Header<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Navbar.Collapse<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Nav<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>NavItem href<span class=\"token operator\">=</span><span class=\"token string\">\"#\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>home<span class=\"token operator\">&lt;</span>/Link<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>/NavItem<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>NavItem href<span class=\"token operator\">=</span><span class=\"token string\">\"#\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/notes\"</span><span class=\"token operator\">></span>notes<span class=\"token operator\">&lt;</span>/Link<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>/NavItem<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>NavItem href<span class=\"token operator\">=</span><span class=\"token string\">\"#\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/users\"</span><span class=\"token operator\">></span>users<span class=\"token operator\">&lt;</span>/Link<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>/NavItem<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>NavItem<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>this.state.user\n          ? <span class=\"token operator\">&lt;</span>em<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>this.state.user<span class=\"token punctuation\">}</span> logged in<span class=\"token operator\">&lt;</span>/em<span class=\"token operator\">></span>\n          <span class=\"token keyword\">:</span> <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/login\"</span><span class=\"token operator\">></span>login<span class=\"token operator\">&lt;</span>/Link<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span>/NavItem<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>/Nav<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>/Navbar.Collapse<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>/Navbar<span class=\"token operator\">></span></code></pre></div>\n<p>Ulkoasu on varsin tyylikäs</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Jos selaimen kokoa kaventaa, huomaamme että menu \"kollapsoituu\" ja sen saa näkyville vain klikkaamalla:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Bootstrap ja valtaosa tarjolla olevista UI-frameworkeista tuottavat <a href=\"https://en.wikipedia.org/wiki/Responsive_web_design\">responsiivisia</a> näkymiä, eli sellaisia jotka renderöityvät vähintään kohtuullisesti monen kokoisilla näytöillä.</p>\n<p>Chromen konsolin avulla on mahdollista simuloida sovelluksen käyttöä erilaisilla mobiilipäätteillä</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Sovellus toimii hyvin, mutta konsoliin vilkaisu paljastaa erään ikävän detaljin:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Syy valituksiin on navigaatiorakenteessa</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>NavItem href<span class=\"token operator\">=</span><span class=\"token string\">\"#\"</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>home<span class=\"token operator\">&lt;</span>/Link<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>/NavItem<span class=\"token operator\">></span></code></pre></div>\n<p>Nämä sisäkkäiset komponentit sisältävät molemmat <em>a</em>-tagin ja React hermostuu tästä.</p>\n<p>Ongelma on ikävä ja sen kiertäminen on toki mahdollista, katso esim.\n<a href=\"https://serverless-stack.com/chapters/adding-links-in-the-navbar.html\">https://serverless-stack.com/chapters/adding-links-in-the-navbar.html</a></p>\n<p>Esimerkin sovelluksen koodi kokonaisuudessaan <a href=\"https://github.com/FullStack-HY/FullStack-Hy.github.io/wiki/bootstrap\">täällä</a>.</p>\n<h3>Semantic UI</h3>\n<p>Olen käyttänyt bootstrapia vuosia, mutta siirryin hiljattain <a href=\"https://semantic-ui.com/\">Semantic UI</a>:n käyttäjäksi. Kurssin tehtävien <a href=\"https://studies.cs.helsinki.fi/fs-stats\">palautusovellus</a> on tehty Semanticilla ja kokemukset ovat olleet rohkaisevia, erityisesti semanticin <a href=\"https://react.semantic-ui.com\">React-tuki</a> on ensiluokkainen ja dokumentaatiokin huomattavasti parempi kuin bootstrapissa.</p>\n<p>Lisätään nyt <a href=\"/osa6/#react-router\">React-router</a>-sovellukselle edellisen luvun tapaan tyylit semanticilla.</p>\n<p>Aloitetaan asentamalla <a href=\"https://react.semantic-ui.com\">semantic-ui-react</a>-kirjasto:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save semantic-ui-react</code></pre></div>\n<p>Lisätään sitten sovelluksen tiedostoon <em>public/index.html</em> head-tagin sisään semanticin css-määrittelyt lataava rivi (joka löytyy <a href=\"https://react.semantic-ui.com/usage#content-delivery-network-cdn\">tästä</a>):</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>link</span><span class=\"token punctuation\">></span></span>\n  // ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Sijoitetaan koko sovelluksen renderöimä sisältö Semanticin komponentin <a href=\"https://react.semantic-ui.com/elements/container\">Container</a> sisälle.</p>\n<p>Semanticin dokumentaatio sisältää jokaisesta komponentista useita esimerkkikoodinpätkiä, joiden avulla komponenttien käytön periaatteet on helppo omaksua:</p>\n<picture><img src=\"/static/b9e6e01b48699a864c31b3a70af7ce71/14be6/18.png\" srcset=\"/static/b9e6e01b48699a864c31b3a70af7ce71/4cce7/18.png 200w,\n/static/b9e6e01b48699a864c31b3a70af7ce71/bae5f/18.png 400w,\n/static/b9e6e01b48699a864c31b3a70af7ce71/14be6/18.png 800w,\n/static/b9e6e01b48699a864c31b3a70af7ce71/1b35a/18.png 1200w,\n/static/b9e6e01b48699a864c31b3a70af7ce71/9ee03/18.png 1600w,\n/static/b9e6e01b48699a864c31b3a70af7ce71/c09de/18.png 1740w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Muutetaan komponentin App uloin <em>div</em>-elementti <em>Containeriksi</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">import</span> <span class=\"token punctuation\">{</span> Container <span class=\"token punctuation\">}</span> from <span class=\"token string\">'semantic-ui-react'</span>\n\n// <span class=\"token punctuation\">..</span>.\n\nclass App extends React.Component <span class=\"token punctuation\">{</span>\n  // <span class=\"token punctuation\">..</span>.\n  render<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Container<span class=\"token operator\">></span>\n        // <span class=\"token punctuation\">..</span>.\n      <span class=\"token operator\">&lt;</span>/Container<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Sivun sisältö ei ole enää reunoissa kiinni:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Edellisen luvun tapaan, renderöidään muistiinpanot taulukkona, komponentin <a href=\"https://react.semantic-ui.com/collections/table\">Table</a> avulla. Koodi näyttää seuraavalta</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">import { Table } from &#39;semantic-ui-react&#39;\n\nconst Notes = ({ notes }) =&gt; (\n  &lt;div&gt;\n    &lt;h2&gt;Notes&lt;/h2&gt;\n    &lt;Table striped celled&gt;\n      &lt;Table.Body&gt;\n        {notes.map(note =&gt;\n          &lt;Table.Row key={note.id}&gt;\n            &lt;Table.Cell&gt;\n              &lt;Link to={`/notes/${note.id}`}&gt;{note.content}&lt;/Link&gt;\n            &lt;/Table.Cell&gt;\n            &lt;Table.Cell&gt;\n              {note.user}\n            &lt;/Table.Cell&gt;\n          &lt;/Table.Row&gt;\n        )}\n      &lt;/Table.Body&gt;\n    &lt;/Table&gt;\n  &lt;/div&gt;\n)</code></pre></div>\n<p>Muistiinpanojen lista näyttää seuraavalta:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<h4>Lomake</h4>\n<p>Otetaan kirjautumissivulla käyttöön Semanticin <a href=\"https://react.semantic-ui.com/collections/form\">Form</a>-komponentti:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { Form, Button } from &#39;semantic-ui-react&#39;\n\nconst Login = ({ onLogin, history }) =&gt; {\n  const onSubmit = (event) =&gt; {\n    // ...\n  }\n  return (\n    &lt;div&gt;\n      &lt;h2&gt;login&lt;/h2&gt;\n      &lt;Form onSubmit={onSubmit}&gt;\n        &lt;Form.Field&gt;\n          &lt;label&gt;username&lt;/label&gt;\n          &lt;input name=&#39;username&#39; /&gt;\n        &lt;/Form.Field&gt;\n        &lt;Form.Field&gt;\n          &lt;label&gt;password&lt;/label&gt;\n          &lt;input type=&#39;password&#39; /&gt;\n        &lt;/Form.Field&gt;\n        &lt;Button type=&#39;submit&#39;&gt;login&lt;/Button&gt;\n      &lt;/Form&gt;\n    &lt;/div&gt;\n  )\n}</code></pre></div>\n<p>Ulkoasu näyttää seuraavalta:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<h4>Notifikaatio</h4>\n<p>Edellisen luvun tapaan, toteutetaan sovellukseen kirjautumisen jälkeinen <em>notifikaatio</em>:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Kuten edellisessä luvussa, asetetaan notifikaatio kirjautumisen yhteydessä komponentin <em>App</em> tilan kenttään <em>message</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function-variable function\">login</span> <span class=\"token operator\">=</span> user <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user<span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`welcome </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>user<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> message<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ja renderöidään viesti käyttäen komponenttia <a href=\"https://react.semantic-ui.com/collections/message\">Message</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">{(this.state.message &amp;&amp;\n  &lt;Message success&gt;\n    {this.state.message}\n  &lt;/Message&gt;\n)}</code></pre></div>\n<h4>Navigaatiorakenne</h4>\n<p>Navigaatiorakenne toteutetaan komponentin <a href=\"https://react.semantic-ui.com/collections/menu\">Menu</a> avulla:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>Menu inverted<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Menu.Item link<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>home<span class=\"token operator\">&lt;</span>/Link<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>/Menu.Item<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Menu.Item link<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/notes\"</span><span class=\"token operator\">></span>notes<span class=\"token operator\">&lt;</span>/Link<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>/Menu.Item<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Menu.Item link<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/users\"</span><span class=\"token operator\">></span>users<span class=\"token operator\">&lt;</span>/Link<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>/Menu.Item<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Menu.Item link<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span>this.state.user\n      ? <span class=\"token operator\">&lt;</span>em<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>this.state.user<span class=\"token punctuation\">}</span> logged in<span class=\"token operator\">&lt;</span>/em<span class=\"token operator\">></span>\n      <span class=\"token keyword\">:</span> <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/login\"</span><span class=\"token operator\">></span>login<span class=\"token operator\">&lt;</span>/Link<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span>/Menu.Item<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>/Menu<span class=\"token operator\">></span></code></pre></div>\n<p>Lopputulos näyttää seuraavalta:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Bootstrapin yhteydessä esiintynyttä sisäkkäisen <em>a</em>-tagien ongelmaa ei semanticin kanssa ole.</p>\n<p>Esimerkin sovelluksen koodi kokonaisuudessaan <a href=\"https://github.com/FullStack-HY/FullStack-Hy.github.io/wiki/semantic-ui\">täällä</a>.</p>\n<h3>Loppuhuomioita</h3>\n<p>Ero react-bootstrapin ja semantic-ui-reactin välillä ei ole suuri. On makuasia kummalla tuotettu ulkoasu on tyylikkäämpi. Oma vuosia kestäneen bootstrapin käytön jälkeinen siirtymiseni semanticiin johtuu semanticin saumattomammasta React-tuesta, laajemmasta valmiiden komponenttien valikoimasta ja paremmasta sekä selkeämmästä dokumentaatiosta. Semantic UI projektin kehitystyön jatkuvuuden suhteen on kuitenkin viime aikoina ollut ilmoilla muutamia <a href=\"https://github.com/Semantic-Org/Semantic-UI/issues/6109\">kysymysmerkkejä</a>, ja tilannetta kannattaakin seurata.</p>\n<p>Esimerkissä käytettiin UI-frameworkeja niiden React-integraatiot tarjoavien kirjastojen kautta.</p>\n<p>Sen sijaan että käytimme kirjastoa <a href=\"https://react-bootstrap.github.io/\">React bootstrap</a>, olisimme voineet aivan yhtä hyvin käyttää Bootstrapia suoraan, liittämällä HTML-elementteihin CSS-luokkia. Eli sen sijaan että määrittelimme esim. taulukon komponentin <em>Table</em> avulla</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>Table striped<span class=\"token operator\">></span>\n  // <span class=\"token punctuation\">..</span>.\n<span class=\"token operator\">&lt;</span>/Table<span class=\"token operator\">></span></code></pre></div>\n<p>olisimme voineet käyttää normaalia HTML:n taulukkoa <em>table</em> ja CSS-luokkaa</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>table className<span class=\"token operator\">=</span><span class=\"token string\">\"table striped\"</span><span class=\"token operator\">></span>\n  // <span class=\"token punctuation\">..</span>.\n<span class=\"token operator\">&lt;</span>/table<span class=\"token operator\">></span></code></pre></div>\n<p>Taulukon määrittelyssä React bootstrapin tuoma etu ei ole suuri.</p>\n<p>Tiiviimmän ja ehkä paremmin luettavissa olevan kirjoitusasun lisäksi toinen etu React-kirjastoina olevissa UI-frameworkeissa on se, että kirjastojen mahdollisesti käyttämä Javascript-koodi on sisällytetty React-komponentteihin. Esim. osa Bootstrapin komponenteista edellyttää toimiakseen muutamaakin ikävää <a href=\"https://getbootstrap.com/docs/4.0/getting-started/introduction/#js\">Javascript-riippuvuutta</a> joita emme mielellään halua React-sovelluksiin sisällyttää.</p>\n<p>React-kirjastoina tarjottavien UI-frameworkkien ikävä puoli verrattuna frameworkin \"suoraan käyttöön\" on React-kirjastojen API:n mahdollinen epästabiilius ja osittain huono dokumentaatio. Tosin <a href=\"https://react.semantic-ui.com\">react-semanticin</a> suhteen tilanne on paljon parempi kuin monien muiden UI-frameworkien sillä kyseessä on virallinen React-integraatio.</p>\n<p>Kokonaan toinen kysymys on se kannattaako UI-frameworkkeja ylipäätän käyttää. Kukin muodostakoon oman mielipiteensä, mutta CSS:ää taitamattomalle ja puutteellisilla design-taidoilla varustetulle ne ovat varsin käyttökelpoisia työkaluja.</p>\n<h3>Muita UI-frameworkeja</h3>\n<p>Luetellaan tässä kaikesta huolimatta muitakin UI-frameworkeja. Jos oma suosikkisi ei ole mukana, tee pull request</p>\n<ul>\n<li><a href=\"http://www.material-ui.com/\">http://www.material-ui.com/</a></li>\n<li><a href=\"https://bulma.io/\">https://bulma.io/</a></li>\n<li><a href=\"https://ant.design/\">https://ant.design/</a></li>\n<li><a href=\"https://foundation.zurb.com/\">https://foundation.zurb.com/</a></li>\n</ul>\n<p>Alun perin tässä osassa oli tarkoitus käyttää <a href=\"http://www.material-ui.com/\">Material UI</a>:ta, mutta kirjasto on juuri nyt kiivaan kehityksen alla ennen version 1.0 julkaisemista ja osa dokumentaation esimerkeistä ei toiminut uusimmalla versiolla. Voikin olla viisainta odotella Materialin kanssa versiota 1.0.</p>\n</div>\n<div class=\"tasks\">\n<h3>Tehtäviä</h3>\n<h4>7.4: styled anecdotes, step1</h4>\n<p>Ota käyttöön bootstrap (tai valitsemasi framework) ja renderöi anekdoottien lista tyylikkäämmin, esim. bootstrapissa <a href=\"https://react-bootstrap.github.io/components/list-group/\">ListGroup</a>-komponentin tai Semanticissa <a href=\"https://react.semantic-ui.com/collections/table\">Tablen</a> avulla:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<h4>7.5: styled anecdotes, step2</h4>\n<p>Tutustu <a href=\"https://react-bootstrap.github.io/layout/grid/\">bootstrapin</a> tai <a href=\"https://react.semantic-ui.com/collections/grid\">semanticin</a> grideihin ja muuta niiden avulla sovelluksen <em>about</em>-sivua siten, että oikeassa reunassa näytetään jonkun kuuluisan tietojenkäsittelijän kuva:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<h4>7.6: styled anecdotes, step3</h4>\n<p>Lisää vielä vapaavalintaisia tyylejä valitsemallasi UI frameworkilla. Voit merkata tehtävän, jos käytät aikaa vapaavalintaisten tyylien lisäämiseen noin 30 minuuttia.</p>\n</div>\n<div class=\"content\">\n<h3>Lisää tyyleistä</h3>\n<p>Osissa 2 ja 6 on jo katsottu muutamaa tapaa tyylien lisäämiseen eli vanhan koulukunnan <a href=\"/osa2#tyylien-lis%C3%A4%C3%A4minen\">yksittäistä CSS</a>-tiedostoa, <a href=\"/osa6#inline-tyylit\">inline-tyylejä</a> ja <a href=\"/osa6#valmiit-k%C3%A4ytt%C3%B6liittym%C3%A4tyylikirjastot\">UI-frameworkien</a> kuten Bootstrapin käyttöä.</p>\n<p>Tapoja on <a href=\"https://survivejs.com/react/advanced-techniques/styling-react/\">monia muitakin</a>, katsotaan vielä lyhyestä kahta tapaa.</p>\n<h3>CSS-moduulit</h3>\n<p>Yksi CSS:n keskeisistä ongelmista on se, että CSS-määrittelyt ovat <em>globaaleja</em>. Suurissa tai jo keskikokoisissakin sovelluksissa tämä aiheuttaa ongelmia, sillä tiettyihin komponentteihin vaikuttavat monissa paikoissa määritellyt tyylit ja lopputulos voi olla vaikeasti ennakoitavissa.</p>\n<p>Laitoksen <a href=\"https://www.cs.helsinki.fi/courses\">kurssilistasivun</a> alaosassa on itseasiassa eräs ilmentymä tälläisestä ikävästä bugista</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Sivulla on monessa paikassa määriteltyjä tyylejä, osa määrittelyistä tulee Drupal-sisällönhallintajärjestelmän oletuskonfiguraatiosta, osa on Drupaliin laitoksella tehtyjä lisäyksiä, osa taas tulee sivun yläosan olemassaolevaa opetustarjontaa näyttävistä syksyllä lisätyistä komponenteista. Vika on niin hankala korjata, ettei kukaan ole viitsinyt sitä tehdä.</p>\n<p>Demonstroidaan vastaavankaltaista ongelmatilannetta esimerkkisovelluksessamme.</p>\n<p>Muutetaan esimerkkitiedostoamme siten, että komponentista <em>App</em> irrotetaan osa toiminnallisuudesta komponentteihin <em>Hello</em> ja <em>NoteCount</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">import &#39;./Hello.css&#39;\n\nconst Hello = ({ counter }) =&gt; (\n  &lt;p className=&quot;content&quot;&gt;\n    hello webpack {counter} clicks!\n  &lt;/p&gt;\n)\n\nexport default Hello</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">import &#39;./NoteCount.css&#39;\n\nconst NoteCount = ({ noteCount }) =&gt; (\n  &lt;p className=&quot;content&quot;&gt;\n    {noteCount} notes in server\n  &lt;/p&gt;\n)\n\nexport default NoteCount</code></pre></div>\n<p>Molemmat komponentit määrittelevät oman tyylitiedostonsa:</p>\n<p><em>Hello.css</em></p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\">.content {\n  background-color: yellow;\n}</code></pre></div>\n<p><em>NoteCount.css</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\">.content {\n  background-color: blue;\n}</code></pre></div>\n<p>Koska molemmat komponentit käyttävät samaa CSS-luokan nimeä <em>content</em>, käykin niin että myöhemmin määritelty ylikirjoittaa aiemmin määritellyn, ja molempien tyyli on sama:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Perinteinen tapa kiertää ongelma on ollut käyttää monimutkaisempia CSS-luokan nimiä, esim. <em>Hello</em>container_ ja <em>NoteCount</em>container_, tämä muuttuu kuitenkin jossain vaiheessa varsin hankalaksi.</p>\n<p><a href=\"https://github.com/css-modules/css-modules\">CSS-moduulit</a> tarjoaa tähän erään ratkaisun.</p>\n<p>Lyhyesti ilmaisten periaatteena on tehdä CSS-määrittelyistä lähtökohtaisesti lokaaleja, vain yhden komponentin kontekstissa voimassa olevia, joka taas mahdollistaa luontevien CSS-luokkanimien käytön. Käytännössä tämä lokaalius toteutetaan generoimalla konepellin alla CSS-luokille uniikit luokkanimet.</p>\n<p>CSS-moduulit voidaan toteuttaa suoraan Webpackin css-loaderin avulla seuraten <a href=\"https://www.triplet.fi/blog/practical-guide-to-react-and-css-modules/\">sivun</a> ohjetta.</p>\n<p>Muutetaan tyylejä käyttäviä komponentteja hiukan:</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">import styles from &#39;./Hello.css&#39;\n\nconst Hello = ({ counter }) =&gt; (\n  &lt;p className={styles.content}&gt;\n    hello webpack {counter} clicks!\n  &lt;/p&gt;\n)\n\nexport default Hello</code></pre></div>\n<p>Erona siis edelliseen on se, että tyyliit \"sijoitetaan muuttujaan\" <em>styles</em></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> styles <span class=\"token keyword\">from</span> <span class=\"token string\">'./Hello.css'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Nyt tyylitiedoston määrittelelyihin voi viitata muuttujan <em>styles</em> kautta, ja CSS-luokan liittäminen tapahtuu seuraavasti</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">&lt;p className={styles.content}&gt;</code></pre></div>\n<p>Vastaava muutos tehdään komponentille <em>NoteCount</em>.</p>\n<p>Muutetaan sitten Webpackin konfiguraatiossa olevaa <em>css-loaderin</em> määrittelyä siten että se enabloi <a href=\"https://github.com/webpack-contrib/css-loader#modules\">CSS-modulit</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  test<span class=\"token punctuation\">:</span> <span class=\"token regex\">/\\.css$/</span><span class=\"token punctuation\">,</span>\n  loaders<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'style-loader'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'css-loader?modules&amp;importLoaders=1&amp;localIdentName=[name]__[local]___[hash:base64:5]&amp;sourceMap&amp;-minimize'</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nyt molemmat komponentit saavat omat tyylinsä. Konsolista tarkastelemalla huomaamme, että komponenttien luokille on generoitunut webpackin css-loaderin generoimat uniikit nimet:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>CSS-luokan nimen muotoileva osa on <em>css-loaderin</em> yhteydessä oleva</p>\n<pre>\nlocalIdentName=[name]\\_\\_[local]\\_\\_\\_[hash:base64:5]\n</pre>\n<p>Jos olet aikeissa käyttää CSS-moduuleja, kannattaa vilkaista mitä kirjasto <a href=\"https://github.com/gajus/react-css-modules\">react-css-modules</a> tarjoaa.</p>\n<h3>Styled components</h3>\n<p>Mielenkiintoisen näkökulman tyylien määrittelyyn tarjoaa ES6:n <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\">tagged template literal</a> -syntaksia hyödyntävä <a href=\"https://www.styled-components.com/\">styled components</a> -kirjasto.</p>\n<p>Tehdään styled-componentsin avulla esimerkkisovellukseemme muutama tyylillinen muutos:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">import</span> styled from <span class=\"token string\">'styled-components'</span>\n\nconst Button <span class=\"token operator\">=</span> styled.button <span class=\"token variable\"><span class=\"token variable\">`</span>\n  font-size: 1em<span class=\"token punctuation\">;</span>\n  margin: 1em<span class=\"token punctuation\">;</span>\n  padding: 0.25em 1em<span class=\"token punctuation\">;</span>\n  border: 2px solid black<span class=\"token punctuation\">;</span>\n  border-radius: 3px<span class=\"token punctuation\">;</span>\n<span class=\"token variable\">`</span></span>\n\nconst Hello <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> className, counter <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>className<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n    hello webpack <span class=\"token punctuation\">{</span>counter<span class=\"token punctuation\">}</span> clicks\n  <span class=\"token operator\">&lt;</span>/p<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span>\n\nconst StyledHello <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">(</span>Hello<span class=\"token punctuation\">)</span> <span class=\"token variable\"><span class=\"token variable\">`</span>\n  color: blue<span class=\"token punctuation\">;</span>\n  font-weight: bold<span class=\"token punctuation\">;</span>\n<span class=\"token variable\">`</span></span>\n\nclass App extends React.Component <span class=\"token punctuation\">{</span>\n  //<span class=\"token punctuation\">..</span>.\n\n  render<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>StyledHello counter<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>this.state.counter<span class=\"token punctuation\">}</span> /<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>this.onClick<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>click<span class=\"token operator\">&lt;</span>/Button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>/div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Heti alussa luodaan HTML:n <em>button</em>-elementistä jalostettu versio ja sijoitetaan se muuttujaan <em>Button</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> Button <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>button<span class=\"token template-string\"><span class=\"token string\">`\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid black;\n  border-radius: 3px;\n`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Tyylien määrittelyn syntaksi on varsin mielenkiintoinen.</p>\n<p>Määritelty komponentti toimii kuten normaali <em>button</em> ja sovellus renderöi sen normaaliin tapaan:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{this.onClick}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>click<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Seuraavaksi koodi määrittelee normaalin React-komponentin</p>\n<div class=\"gatsby-highlight\" data-language=\"react\"><pre class=\"language-react\"><code class=\"language-react\">const Hello = ({ className, counter }) =&gt; (\n  &lt;p className={className}&gt;\n    hello webpack {counter} clicks\n  &lt;/p&gt;\n)</code></pre></div>\n<p>ja lisää tälle tyylit metodin <em>styled</em> avulla:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> StyledHello <span class=\"token operator\">=</span> <span class=\"token function\">styled</span><span class=\"token punctuation\">(</span>Hello<span class=\"token punctuation\">)</span><span class=\"token template-string\"><span class=\"token string\">`\n  color: blue;\n  font-weight: bold;\n`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Muuttujaan <em>StyledHello</em> sijoitettua tyyleillä jalostettua komponenttia käytetään kuten alkuperäistä:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>StyledHello counter<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>this.state.counter<span class=\"token punctuation\">}</span> /<span class=\"token operator\">></span></code></pre></div>\n<p>Sovelluksen ulkoasu seuraavassa:</p>\n<picture><img src=\"/static/6433076ef5df206c63279b982704150f/14be6/1.png\" srcset=\"/static/6433076ef5df206c63279b982704150f/4cce7/1.png 200w,\n/static/6433076ef5df206c63279b982704150f/bae5f/1.png 400w,\n/static/6433076ef5df206c63279b982704150f/14be6/1.png 800w,\n/static/6433076ef5df206c63279b982704150f/16a28/1.png 1136w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n</div>","frontmatter":{"mainImage":{"publicURL":"/static/part-7-e86c21108367fe9d9c833e8905547e9c.svg"},"part":7,"letter":"b"}}},"pageContext":{"part":7,"letter":"b"}}